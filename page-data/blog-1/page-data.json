{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog-1/","result":{"data":{"site":{"siteMetadata":{"title":"Rayhan's Blog"}},"markdownRemark":{"id":"2ad6f263-2b0b-5c50-bba8-108999e4345e","excerpt":"This is my first blog. In this blog, I’m going to show you, how I have created this blog site with comments. It’s very simple. I have used gatsby and Github…","html":"<p>This is my first blog. In this blog, I’m going to show you, how I have created this blog site with comments. It’s very simple. I have used gatsby and Github.</p>\n<h2>Setup Development Environment</h2>\n<p>Before we start, we have to make sure that we have all the necessary packages installed in our system. To prepare your development environment, follow this guide provided on the gatsby website. Follow up to the ‘Create a gatsby site’ section. </p>\n<p><a href=\"https://www.gatsbyjs.com/docs/tutorial/part-zero/\">Setup Development Environment</a></p>\n<p>Now, you should have these packages installed in your system.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> 1. node\n 2. npm\n 3. git\n 4. gatsby-cli</code></pre></div>\n<h2>Generate gatsby site</h2>\n<p>Next, we will use a starter template for creating our blog site. I have chosen this one - <a href=\"https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-blog/\">gatsby-starter-blog</a>.</p>\n<p>Navigate to your desired directory and run the following command to create a clone of the starter template.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">gatsby new my-blog https://github.com/gatsbyjs/gatsby-starter-blog</code></pre></div>\n<p>You can choose your preferred name for the project instead of ‘my-blog’. Replace ‘my-blog’ in the command with your preferred name.</p>\n<p>To build and run the project on your local server use this command</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">gatsby develop</code></pre></div>\n<p>If you visit the site (<a href=\"http://localhost:8000/\">http://localhost:8000/</a>) it may look like this.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/my-blog/static/357bfde5e8302f791043a57685cc23fd/e996b/gatsby-starter-blog.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.31645569620254%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdklEQVQoz52TwY7bIBBA99/zAZGlHHLKIcrJxxybVT4gp7bqpbUU2bjOgI0DIQE7DOAqtra1sslK2yeEGMETzAAv3RshdN77MMJ733Wdc24Iu3e89Nptomma1Wo1n8/jOJ5MJtvtdjabTafT5XIZRdFut/u78oGstY6iaLFYrNfrJEkA4HK5AICUsixLrfVHctu2Xzavm81rHMfGmPdLHx97wCHW7ICIxhhKKQDlR1n1jfdNKfVUttZ+//YVgAJllFLGj3Bq8qMuhAZpqDSI+FT+D0Y7O5/W5mdl9kdLz/hJ2eKeFARK4JJxoc5npdTpjXMfKqWGy7+XvfeirmTNZc1rXjLGyp5b/oxxzhljQojxFYyqHTp1DQ2Gof/csVuLPzKWgNhXmp4a7xw6hz2uH1hr7wr+T0bEQ54d8qwgKRS/CSF5nmdZRggpiiJNUyHE8HgeyCHcCn5Fd0Xn/e1XDP/E9Yzr9EC+uvCrahLeFif7LMm7t/0H+vRcBuMjtvUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"gatsby starter blog\"\n        title=\"gatsby starter blog\"\n        src=\"/my-blog/static/357bfde5e8302f791043a57685cc23fd/f058b/gatsby-starter-blog.png\"\n        srcset=\"/my-blog/static/357bfde5e8302f791043a57685cc23fd/c26ae/gatsby-starter-blog.png 158w,\n/my-blog/static/357bfde5e8302f791043a57685cc23fd/6bdcf/gatsby-starter-blog.png 315w,\n/my-blog/static/357bfde5e8302f791043a57685cc23fd/f058b/gatsby-starter-blog.png 630w,\n/my-blog/static/357bfde5e8302f791043a57685cc23fd/40601/gatsby-starter-blog.png 945w,\n/my-blog/static/357bfde5e8302f791043a57685cc23fd/e996b/gatsby-starter-blog.png 1050w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>At this point, you may want to commit your changes.</p>\n<h2>Personalize the blog site</h2>\n<p>Then, go to <code class=\"language-text\">gatsby-config.js</code> and replace the values of the siteMetadata according to your preference. Mine looks like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">module.exports = {\n  siteMetadata: {\n    title: `My Blog`,\n    author: {\n      name: `Ershadul Hakim Rayhan`,\n      summary: `A passionate problem solver`,\n    },\n    description: `A blog site built with gatsby`,\n    siteUrl: `https://ershadul.me/my-blog`,\n    social: {\n      twitter: `ErshadulRayhan`,\n    },\n  },\n  ...</code></pre></div>\n<p>Update the bio section by modifying the bio component.\nReplace the profile-pic and Twitter links with yours.</p>\n<h2>Add new blog posts</h2>\n<p>There are some example articles already added to this starter project. If you want to remove them, just remove them from the <code class=\"language-text\">content/blog</code> folder.</p>\n<p>To add a new blog article, create a new folder inside <code class=\"language-text\">content/blog</code> and inside that folder add an <code class=\"language-text\">index.md</code> file. This <code class=\"language-text\">index.md</code> file will contain the content of your article. As this is a markdown blog, you can put your markdown document in this <code class=\"language-text\">index.md</code> file.</p>\n<p>The format of the file should be like this</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">---\ntitle: New Beginnings\ndate: &quot;2015-05-28T22:40:32.169Z&quot;\ndescription: This is a custom description for SEO and Open Graph purposes, rather than the default generated excerpt. Simply add a description field to the frontmatter.\n---\n\nFar far away, behind the word mountains, far from the countries Vokalia and\nConsonantia, there live the blind texts. Separated they live in Bookmarksgrove\n...</code></pre></div>\n<p>So, we can see this file contains some metadata between those dashes. Remember to put them in your articles to show the title, date, and description.</p>\n<p>At this point, you have built a fully working blog site. You can commit your changes and push them to Github.\nI recommend hosting your blog on Github pages.</p>\n<h2>Add comments to the blog (Optional)</h2>\n<p>I am using <a href=\"https://utteranc.es/\">utterances</a> for adding comments to my blog. Utterances uses Github issues to save comments. It’s free and easy to use. To comment on posts the users have to log in using their Github and give utterances permission to their Github account.</p>\n<p>Now, to add a comment section to your blog posts, follow the next steps.</p>\n<p>To store the comments you need to create a public Github repo and give utterances app the permission for that Github repo. Visit <a href=\"https://utteranc.es/\">utterances</a> and read the instructions to create the script tag for the comment section.</p>\n<p>I have created a repo for storing comments of my blog posts. The script tag looks like this</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;script src=&quot;https://utteranc.es/client.js&quot;\n        repo=&quot;[ENTER REPO HERE]&quot;\n        issue-term=&quot;pathname&quot;\n        theme=&quot;github-light&quot;\n        crossorigin=&quot;anonymous&quot;\n        async&gt;\n&lt;/script&gt;</code></pre></div>\n<p>Now, we have to implement this script in our blog app.</p>\n<p>Go to <code class=\"language-text\">src/templates/blog-post.js</code>. </p>\n<p>We are going to use <code class=\"language-text\">useEffect</code> hook for adding the script. We want the script to load after our component did mount.</p>\n<p>Let’s import <code class=\"language-text\">useEffect</code> in the <code class=\"language-text\">blog-post.js</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  import React, { useEffect } from &quot;react&quot;</code></pre></div>\n<p>Then inside the <code class=\"language-text\">BlogPostTemplate</code> function add this</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">useEffect(() =&gt; {\n    const script = document.createElement(&#39;script&#39;);\n    script.setAttribute(&quot;src&quot;, &quot;https://utteranc.es/client.js&quot;);\n    script.setAttribute(&quot;crossorigin&quot;,&quot;anonymous&quot;);\n    script.setAttribute(&quot;async&quot;, true);\n    script.setAttribute(&quot;repo&quot;, &quot;github-username/repo-name&quot;);\n    script.setAttribute(&quot;issue-term&quot;, &quot;pathname&quot;);\n    script.setAttribute( &quot;theme&quot;, &quot;github-light&quot;);\n\n    document.body.appendChild(script);\n\n  return () =&gt; {\n    document.body.removeChild(script);\n  }\n  }, []);</code></pre></div>\n<p>Replace the attribute values according to your project. If you have done everything right, now you should see a comment box appearing on your blog.</p>\n<p><strong>Congratulations!</strong> You have successfully built a blog site with a comment section.</p>","frontmatter":{"title":"How I created this blog site!","date":"May 02, 2021","description":null}},"previous":null,"next":null},"pageContext":{"id":"2ad6f263-2b0b-5c50-bba8-108999e4345e","previousPostId":null,"nextPostId":null}},"staticQueryHashes":["2841359383","3257411868"]}